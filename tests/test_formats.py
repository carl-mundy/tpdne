from io import BytesIO
from base64 import b64decode
import unittest
import unittest.mock as mock

import tpdne


class TestsImageAsBytes(unittest.TestCase):

    test_img_base64 = "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"

    def test_image_bytes_received_ok(self):

        bytes_img = b64decode(self.test_img_base64)

        # TODO: Mock requests.get output instead
        with mock.patch('tpdne.tpdne._request_person') as patched_request:
            patched_request.return_value.content = bytes_img

            result = tpdne.tpdne_bytes()
        
        self.assertEqual(result, bytes_img)

    def test_image_b64_received_ok(self):

        bytes_img = b64decode(self.test_img_base64)

        with mock.patch('tpdne.tpdne._request_person') as patched_request:
            patched_request.return_value.content = bytes_img

            result = tpdne.tpdne_base64()

        self.assertEqual(result, self.test_img_base64)